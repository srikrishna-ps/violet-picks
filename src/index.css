@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    background: #121212 !important;
  }

  body {
    @apply bg-[#121212] text-[#E0E0E0] font-outfit;
    min-height: 100vh;
  }

  :root {
    --background: 18 18 18;
    --foreground: 224 224 224;

    --card: 68 68 68;
    --card-foreground: 224 224 224;

    --popover: 68 68 68;
    --popover-foreground: 224 224 224;

    --primary: 224 224 224;
    --primary-foreground: 18 18 18;

    --secondary: 176 176 176;
    --secondary-foreground: 18 18 18;

    --muted: 68 68 68;
    --muted-foreground: 176 176 176;

    --accent: 136 136 136;
    --accent-foreground: 224 224 224;

    --destructive: 239 68 68;
    --destructive-foreground: 255 255 255;

    --border: 68 68 68;
    --input: 68 68 68;
    --ring: 136 136 136;

    --radius: 0.75rem;
  }

  .dark {
    --background: 18 18 18;
    --foreground: 224 224 224;

    --card: 68 68 68;
    --card-foreground: 224 224 224;

    --popover: 68 68 68;
    --popover-foreground: 224 224 224;

    --primary: 224 224 224;
    --primary-foreground: 18 18 18;

    --secondary: 176 176 176;
    --secondary-foreground: 18 18 18;

    --muted: 68 68 68;
    --muted-foreground: 176 176 176;

    --accent: 136 136 136;
    --accent-foreground: 224 224 224;

    --destructive: 248 113 113;
    --destructive-foreground: 18 18 18;

    --border: 68 68 68;
    --input: 68 68 68;
    --ring: 136 136 136;

    --radius: 0.75rem;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  .text-gradient {
    background: linear-gradient(135deg, #E0E0E0, #B0B0B0, #E0E0E0);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-fill-color: transparent;
  }

  .glass-effect {
    background: rgba(68, 68, 68, 0.3);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(136, 136, 136, 0.1);
  }

  /* Accordion Grid System */
  .album-accordion {
    display: grid;
    grid-auto-flow: column;
    grid-template-columns:
      var(--col-1, 1fr) var(--col-2, 1fr) var(--col-3, 1fr) var(--col-4, 1fr) var(--col-5, 1fr);
    grid-template-rows: 60vh;
    gap: 1rem;
    border: none;
    background: #121212;

    @media (prefers-reduced-motion: no-preference) {
      transition: grid-template-columns 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    &:has(label:nth-child(1) input:checked) {
      --col-1: 3fr;
      --col-2: 1fr;
      --col-3: 1fr;
      --col-4: 1fr;
      --col-5: 1fr;
    }

    &:has(label:nth-child(2) input:checked) {
      --col-1: 1fr;
      --col-2: 3fr;
      --col-3: 1fr;
      --col-4: 1fr;
      --col-5: 1fr;
    }

    &:has(label:nth-child(3) input:checked) {
      --col-1: 1fr;
      --col-2: 1fr;
      --col-3: 3fr;
      --col-4: 1fr;
      --col-5: 1fr;
    }

    &:has(label:nth-child(4) input:checked) {
      --col-1: 1fr;
      --col-2: 1fr;
      --col-3: 1fr;
      --col-4: 3fr;
      --col-5: 1fr;
    }

    &:has(label:nth-child(5) input:checked) {
      --col-1: 1fr;
      --col-2: 1fr;
      --col-3: 1fr;
      --col-4: 1fr;
      --col-5: 3fr;
    }
  }

  .album-card {
    position: relative;
    overflow: hidden;
    border: 2px solid rgba(136, 136, 136, 0.4);

    &:focus-within {
      outline: 2px solid #E0E0E0;
      outline-offset: 4px;
    }

    &:hover {
      border-color: rgba(224, 224, 224, 0.6);
    }
  }

  @media (max-width: 768px) {
    .album-accordion {
      grid-auto-flow: row;
      grid-template-columns: 1fr;
      grid-template-rows: repeat(5, 40vh);
      gap: 1rem;
    }
  }
}

@layer utilities {
  .animate-delay-100 {
    animation-delay: 100ms;
  }

  .animate-delay-200 {
    animation-delay: 200ms;
  }

  .animate-delay-300 {
    animation-delay: 300ms;
  }

  .animate-delay-400 {
    animation-delay: 400ms;
  }

  .animate-delay-500 {
    animation-delay: 500ms;
  }

  .glow-border {
    position: relative;
    z-index: 1;
  }

  .glow-border::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    pointer-events: none;
    z-index: -1;
    border: 2px solid #888888;
    box-shadow: 0 0 12px 2px #888888, 0 0 0 0 #888888;
    opacity: 0.7;
    transition: box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s;
  }

  .glow-border:hover::before {
    box-shadow: 0 0 24px 6px #E0E0E0, 0 0 0 0 #888888;
    opacity: 1;
  }

  @keyframes border-journey {
    to {
      offset-distance: 100%;
    }
  }

  .border-trail {
    position: relative;
    overflow: hidden;
  }

  .border-trail::after {
    content: '';
    position: absolute;
    inset: 0;
    width: 60px;
    height: 6px;
    background: linear-gradient(to right, transparent, #E0E0E0);
    border-radius: 3px;
    offset-path: border-box;
    offset-anchor: 0% 50%;
    animation: border-journey 6s linear infinite;
    z-index: 2;
    opacity: 1;
  }
}